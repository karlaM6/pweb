<div class="container">
  <h1>ğŸ® MenÃº de Partida</h1>

  <div class="menu-card">
    @if (cargando()) {
      <div class="loading">
        <div class="spinner"></div>
        <p>Verificando partidas...</p>
      </div>
    }

    @if (partidaActiva() && !cargando()) {
      <div class="opciones-container">
        <!-- Hay partida activa -->
        <div class="partida-info">
          <div class="partida-header">
            <h2>ğŸ¯ Partida en Curso</h2>
            <span class="badge" [class.activa]="partidaActiva()!.estado === 'activa'" 
                                 [class.pausada]="partidaActiva()!.estado === 'pausada'">
              {{ partidaActiva()!.estado === 'activa' ? 'ğŸŸ¢ Activa' : 'ğŸŸ¡ Pausada' }}
            </span>
          </div>

          <div class="partida-detalles">
            <div class="detalle-item">
              <span class="icono">ğŸ—ºï¸</span>
              <div>
                <strong>Mapa:</strong>
                <p>{{ partidaActiva()!.mapaFilas }} x {{ partidaActiva()!.mapaColumnas }}</p>
              </div>
            </div>

            <div class="detalle-item">
              <span class="icono">ğŸš¢</span>
              <div>
                <strong>Barco:</strong>
                <p>{{ partidaActiva()!.barcoNombre }}</p>
              </div>
            </div>

            <div class="detalle-item">
              <span class="icono">ğŸ“</span>
              <div>
                <strong>PosiciÃ³n:</strong>
                <p>({{ partidaActiva()!.barcoPosicionX }}, {{ partidaActiva()!.barcoPosicionY }})</p>
              </div>
            </div>

            <div class="detalle-item">
              <span class="icono">ğŸ”¢</span>
              <div>
                <strong>Movimientos:</strong>
                <p>{{ partidaActiva()!.movimientos }}</p>
              </div>
            </div>
          </div>

          <div class="acciones">
            <button class="btn btn-primary" (click)="continuarPartida()">
              â–¶ï¸ Continuar Partida
            </button>
            <button class="btn btn-secondary" (click)="verDetallesPartida()">
              ğŸ“Š Ver Detalles
            </button>
            <button class="btn btn-danger" (click)="finalizarPartida()">
              ğŸ›‘ Finalizar Partida
            </button>
          </div>
        </div>
      </div>
    } @else {
      <!-- No hay partida activa -->
      <div class="sin-partida">
        <div class="icon-grande">ğŸ®</div>
        <h2>No tienes partidas activas</h2>
        <p>Crea una nueva partida para empezar a jugar</p>
        
        <button class="btn btn-primary btn-grande" (click)="iniciarNuevaPartida()">
          âœ¨ Iniciar Nueva Partida
        </button>
      </div>
    }
  </div>
</div>
